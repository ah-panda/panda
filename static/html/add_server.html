<div ng-show="!config.switch_product || !forbiddenAddAPIWhenProductEnv">
<form name="addServerForm" class="form-horizontal" role="form" ng-submit="submit()">
  <div class="form-group">
    <label for="upstream-id" class="col-md-2 control-label">Upstream</label>
    <div class="col-md-6">
      <select class="form-control" id="upstream-id" ng-model="upstreamId" ng-options="upstream.id as upstream.name for upstream in upstreams" disabled="disabled">
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="ipaddr" class="col-md-2 control-label">IP</label>
    <div class="col-md-6">
      <input name="ipaddr" type="text" class="form-control" ng-model="ipaddr" ng-change="checkIpaddr()">
      <span class="error">{{ipaddrErrorMessage}}</span>
    </div>
  </div>
  <div class="form-group">
    <label for="port" class="col-md-2 control-label">Port</label>
    <div class="col-md-6">
      <input name="port" type="number" class="form-control" id="port" ng-model="port" min="80" max="65535" ng-change="checkPort()" required>
      <span class="error">{{portErrorMessage}}</span>
    </div>
  </div>
  <div class="form-group">
    <label for="tag" class="col-md-2 control-label">Tag</label>
    <div class="col-md-6">
      <input name="tag" type="text" class="form-control" id="tag" ng-model="tag" ng-change="checkTag()"> (生产环境中，1代表沙河机房，2代表M7机房)
      <span class="error">{{tagErrorMessage}}</span>
    </div>
  </div>
  <div class="form-group">
    <div class="col-md-offset-2 col-md-6">
      <button type="submit" class="btn btn-primary" ng-disabled="!ipaddrIsValid || !portIsValid || !tagIsValid || !(isCorporationAdmin || isIgnoreAuth)">添加</button>
      <button type="button" ng-click="back()" class="btn">返回</button>
    </div>
  </div>
</form>
</div>
