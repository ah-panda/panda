
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th class="text-center">序号</th>
      <th>名称</th>
      <!--th class="text-center">描述</th-->
      <th class="text-center">动作</th>
      <th class="text-center">服务器列表</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="upstream in newUpstreamList">
      <!--td>{{upstream.id}}</td-->
      <td width="5%" class="text-center">{{$index+1}}</td>
      <td width="15%"><a ng-href="/#/upstream" data-toggle="tooltip" data-placement="right" title="{{upstream.description}}">{{upstream.name}}</a></td>
      <!--td>{{upstream.description}}</td-->
      <td width="10%" class="text-center">
          <button class="btn btn-sm btn-success" ng-click="add_server(upstream.id)" ng-disabled="!(isCorporationAdmin || isIgnoreAuth)">新增</button>
      </td>
      <td witdh="70%">
        <!-- {{upstream.serverList}} -->
        <table class="table table-bordered table-hover table-sm">
          <tr ng-repeat="server in upstream.serverList">
            <td width="20%">{{server.ip}}:{{server.port}}</td>
            <td width="10%"><span class="label label-default">{{server.tag}}</span></td>
            <td width="30%" class="text-center">{{server.update_time| datetime}}</td>
            <td width="20%" class="text-center">{{server.is_enabled | enabled2txt}}</td>
            <td width="20%" class="text-center">
              <button class="btn btn-sm btn-info" ng-hide="server.is_enabled == 1" ng-click="enable_server(server)" ng-disabled="!(isCorporationAdmin || isIgnoreAuth">启用</button>
              <button class="btn btn-sm btn-warning" ng-hide="server.is_enabled == 0" ng-click="disable_server(server)" ng-disabled="!(isCorporationAdmin || isIgnoreAuth)">禁用</button>
              <button class="btn btn-sm btn-danger" ng-click="delete_server(server)" ng-disabled="!(isCorporationAdmin || isIgnoreAuth)">删除</button>
            </td>
          </tr>
        </table>
      </td>
    </tr>
  </tbody>
</table>

